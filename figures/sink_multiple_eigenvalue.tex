% !TEX TS-program = pdfLaTeX+shellescape
% !TEX encoding = UTF-8 Unicode

\documentclass{standalone}
\usepackage{pgfplots}
\pgfplotsset{compat=1.17}


\definecolor{tab_green}{HTML}{2CA02C}
\definecolor{tab_red}{HTML}{D62728}

\begin{document}
    \begin{tikzpicture}[
        baseline,
        declare function = {
            solx(\a,\b,\x) = \a*exp(-\x) + \b*\x*exp(-\x);
            soly(\a,\b,\x) = \b*exp(-\x);
            derx(\a,\b,\x) = -\a*exp(-\x) + \b*exp(-t) - \b*\x*exp(-\x);
            dery(\a,\b,\x) = -\b*exp(-\x);
        }
        ]
        \begin{axis}[
            scale=0.6, % scale
            % view = {0}{90},
            xmin=-1.48,xmax=1.48,ymin=-1.48,ymax=1.48, % range of plot
            % legend style={at={(axis cs: 1,0)}, anchor=south east}, % position of legends
            % unit vector ratio = {1, 1, 1}, % aspect ratio
            unit vector ratio = {1, 1}, % aspect ratio
            % axis lines = box, % middle or box
            %axis x line = bottom, % top, middle, bottom, none: axis x line* = ... removes arrow heads
            %axis y line = left, % left, center, right, none: axis y line* = ... removes arrow heads
            %xlabel = {$x$}, ylabel = {$y$}, % axis labels 
        ]
            % \addplot[ultra thick, tab_green!75, domain=-1.5:1.5, samples=100]({x}, {0});
            % \addplot[ultra thick, tab_red!75, domain=-1.5:1.5, samples=100]({x}, {x});
            \addplot[blue, domain=-1.5:1.5, samples=100]({x}, {0});
            \addplot[blue, variable=\t, domain=-5.0:3.0, samples=100]({solx(0.01, 0.01, t)}, {soly(0.01, 0.01, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(0.1, 0.1, t)}, {soly(0.1, 0.1, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(0.3, 0.3, t)}, {soly(0.3, 0.3, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(0.5, 0.5, t)}, {soly(0.5, 0.5, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(0.7, 0.7, t)}, {soly(0.7, 0.7, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(0.9, 0.9, t)}, {soly(0.9, 0.9, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(1.1, 1.1, t)}, {soly(1.1, 1.1, t)});
            \addplot[blue, variable=\t, domain=-5.0:3.0, samples=100]({solx(-0.01, -0.01, t)}, {soly(-0.01, -0.01, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(-0.1, -0.1, t)}, {soly(-0.1, -0.1, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(-0.3, -0.3, t)}, {soly(-0.3, -0.3, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(-0.5, -0.5, t)}, {soly(-0.5, -0.5, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(-0.7, -0.7, t)}, {soly(-0.7, -0.7, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(-0.9, -0.9, t)}, {soly(-0.9, -0.9, t)});
            \addplot[blue, variable=\t, domain=-3.0:3.0, samples=100]({solx(-1.1, -1.1, t)}, {soly(-1.1, -1.1, t)});
            % arrow
            \addplot[blue, variable=\t, samples=2, domain=0.3:0.9, -latex, quiver={u={-t}, v={0}, scale arrows=0.1}]({t}, {0});
            \addplot[blue, variable=\t, samples=2, domain=0.3:0.9, -latex, quiver={u={t}, v={0}, scale arrows=0.1}]({-t}, {0});
            % % sign change because of derivative
            \addplot[blue, variable=\t, samples=2, domain=-3.5:-2.0, -latex, quiver={u={derx(0.01, 0.01, t)}, v={dery(0.01, 0.01, t)}, scale arrows=0.1}]({solx(0.01, 0.01, t)}, {soly(0.01, 0.01, t)});
            \addplot[blue, variable=\t, samples=2, domain=-2.0:-1.0, -latex, quiver={u={derx(0.1, 0.1, t)}, v={dery(0.1, 0.1, t)}, scale arrows=0.1}]({solx(0.1, 0.1, t)}, {soly(0.1, 0.1, t)});
            \addplot[blue, variable=\t, samples=2, domain=-1.2:-0.5, -latex, quiver={u={derx(0.3, 0.3, t)}, v={dery(0.3, 0.3, t)}, scale arrows=0.1}]({solx(0.3, 0.3, t)}, {soly(0.3, 0.3, t)});
            \addplot[blue, variable=\t, samples=2, domain=-0.8:-0.2, -latex, quiver={u={derx(0.5, 0.5, t)}, v={dery(0.5, 0.5, t)}, scale arrows=0.1}]({solx(0.5, 0.5, t)}, {soly(0.5, 0.5, t)});
            \addplot[blue, variable=\t, samples=2, domain=-0.5:0.1, -latex, quiver={u={derx(0.7, 0.7, t)}, v={dery(0.7, 0.7, t)}, scale arrows=0.1}]({solx(0.7, 0.7, t)}, {soly(0.7, 0.7, t)});
            \addplot[blue, variable=\t, samples=2, domain=-0.3:0.3, -latex, quiver={u={derx(0.9, 0.9, t)}, v={dery(0.9, 0.9, t)}, scale arrows=0.1}]({solx(0.9, 0.9, t)}, {soly(0.9, 0.9, t)});
            \addplot[blue, variable=\t, samples=2, domain=-0.1:0.5, -latex, quiver={u={derx(1.1, 1.1, t)}, v={dery(1.1, 1.1, t)}, scale arrows=0.1}]({solx(1.1, 1.1, t)}, {soly(1.1, 1.1, t)});
            \addplot[blue, variable=\t, samples=2, domain=-3.5:-2.0, -latex, quiver={u={derx(-0.01, -0.01, t)}, v={dery(-0.01, -0.01, t)}, scale arrows=0.1}]({solx(-0.01, -0.01, t)}, {soly(-0.01, -0.01, t)});
            \addplot[blue, variable=\t, samples=2, domain=-2.0:-1.0, -latex, quiver={u={derx(-0.1, -0.1, t)}, v={dery(-0.1, -0.1, t)}, scale arrows=0.1}]({solx(-0.1, -0.1, t)}, {soly(-0.1, -0.1, t)});
            \addplot[blue, variable=\t, samples=2, domain=-1.2:-0.5, -latex, quiver={u={derx(-0.3, -0.3, t)}, v={dery(-0.3, -0.3, t)}, scale arrows=0.1}]({solx(-0.3, -0.3, t)}, {soly(-0.3, -0.3, t)});
            \addplot[blue, variable=\t, samples=2, domain=-0.8:-0.2, -latex, quiver={u={derx(-0.5, -0.5, t)}, v={dery(-0.5, -0.5, t)}, scale arrows=0.1}]({solx(-0.5, -0.5, t)}, {soly(-0.5, -0.5, t)});
            \addplot[blue, variable=\t, samples=2, domain=-0.5:0.1, -latex, quiver={u={derx(-0.7, -0.7, t)}, v={dery(-0.7, -0.7, t)}, scale arrows=0.1}]({solx(-0.7, -0.7, t)}, {soly(-0.7, -0.7, t)});
            \addplot[blue, variable=\t, samples=2, domain=-0.3:0.3, -latex, quiver={u={derx(-0.9, -0.9, t)}, v={dery(-0.9, -0.9, t)}, scale arrows=0.1}]({solx(-0.9, -0.9, t)}, {soly(-0.9, -0.9, t)});
            \addplot[blue, variable=\t, samples=2, domain=-0.1:0.5, -latex, quiver={u={derx(-1.1, -1.1, t)}, v={dery(-1.1, -1.1, t)}, scale arrows=0.1}]({solx(-1.1, -1.1, t)}, {soly(-1.1, -1.1, t)});
            

            % \addplot[blue, variable=\t, samples=2, domain=-1.0:1.0, -latex, quiver={u={derx(-0.3, -0.3, t)}, v={dery(-0.3, -0.3, t)}, scale arrows=0.1}]({solx(-0.3, -0.3, t)}, {soly(-0.3, -0.3, t)});
            % \addplot[blue, variable=\t, samples=2, domain=-0.5:0.5, -latex, quiver={u={derx(-0.5, -0.5, t)}, v={dery(-0.5, -0.5, t)}, scale arrows=0.1}]({solx(-0.5, -0.5, t)}, {soly(-0.5, -0.5, t)});
            % \addplot[blue, variable=\t, samples=2, domain=-0.8:0.8, -latex, quiver={u={derx(0.4, -0.4, t)}, v={dery(0.4, -0.4, t)}, scale arrows=0.1}]({solx(0.4, -0.4, t)}, {soly(0.4, -0.4, t)});
            % \addplot[blue, variable=\t, samples=2, domain=-0.5:0.5, -latex, quiver={u={derx(0.7, -0.7, t)}, v={dery(0.7, -0.7, t)}, scale arrows=0.1}]({solx(0.7, -0.7, t)}, {soly(0.7, -0.7, t)});
            % \addplot[blue, variable=\t, samples=2, domain=-0.8:0.8, -latex, quiver={u={derx(-0.4, 0.4, t)}, v={dery(-0.4, 0.4, t)}, scale arrows=0.1}]({solx(-0.4, 0.4, t)}, {soly(-0.4, 0.4, t)});
            % \addplot[blue, variable=\t, samples=2, domain=-0.5:0.5, -latex, quiver={u={derx(-0.7, 0.7, t)}, v={dery(-0.7, 0.7, t)}, scale arrows=0.1}]({solx(-0.7, 0.7, t)}, {soly(-0.7, 0.7, t)});
        \end{axis}
    \end{tikzpicture}
\end{document}